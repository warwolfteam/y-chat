<view class="y-wrap" style="{{('--bottom-height:'+bottomHeight)}}"><scroll-view class="y-wrap_message_content" scroll-y="{{true}}" scroll-into-view="{{scrollToId}}" refresher-enabled="{{useRefresh}}" refresher-threshold="{{100}}" refresher-triggered="{{triggered}}" scroll-with-animation="{{true}}" refresher-default-style="white" refresher-background="#F2F2F2" data-event-opts="{{[['refresherrefresh',[['onRefresh',['$event']]]],['refresherrestore',[['onReset',['$event']]]],['tap',[['closeFooter',['$event']]]]]}}" bindrefresherrefresh="__e" bindrefresherrestore="__e" bindtap="__e"><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['y-wrap_message_content_box',(item[defaultOptions['userId']]==userId)?'y-wrap_message_content_my':'']}}" id="{{'y-chat-'+item[defaultOptions['msgId']]}}"><image class="y-wrap_message_content_box__avator" src="{{item[defaultOptions['avator']]?item[defaultOptions['avator']]:errorIcon}}" mode="aspectFill"></image><view class="{{['y-wrap_message_content_box_msg',[(item[defaultOptions['userId']]==userId)?'y-wrap_message_content_box_my':'']]}}"><view class="{{['y-wrap_message_content_box_msg__name',(item[defaultOptions['userId']]==userId)?'y-wrap_message_content_box_msg__my':'']}}"><block wx:if="{{tagOptions[item[defaultOptions['tagLabel']]]}}"><u-tag vue-id="{{'faa6967c-1-'+index}}" bgColor="{{tagOptions[item[defaultOptions['tagLabel']]]?tagOptions[item[defaultOptions['tagLabel']]].bgColor:''}}" borderColor="{{tagOptions[item[defaultOptions['tagLabel']]]?tagOptions[item[defaultOptions['tagLabel']]].bgColor:''}}" color="{{tagOptions[item[defaultOptions['tagLabel']]]?tagOptions[item[defaultOptions['tagLabel']]].color:''}}" text="{{tagOptions[item[defaultOptions['tagLabel']]]?tagOptions[item[defaultOptions['tagLabel']]].text:''}}" size="mini" bind:__l="__l"></u-tag></block><text>{{item[defaultOptions['name']]}}</text></view><view class="{{['y-wrap_message_content_box__val',(item[defaultOptions['userId']]==userId)?'y-wrap_message_content_box__my':'']}}"><block wx:if="{{item[defaultOptions['message']]}}"><view style="{{'text-align:'+(item[defaultOptions['userId']]==userId?'right':'left')+';'}}">{{item[defaultOptions['message']]}}</view></block><block wx:if="{{item[defaultOptions['img']]}}"><u-image vue-id="{{'faa6967c-2-'+index}}" src="{{item[defaultOptions['img']]}}" width="40vw" height="auto" mode="widthFix" data-event-opts="{{[['^tap',[['lookImg',['$0'],[[['list','',index,''+defaultOptions['img']+'']]]]]]]}}" bind:tap="__e" bind:__l="__l"></u-image></block></view></view></view></block></scroll-view><view class="y-wrap_footer"><view class="y-wrap_footer_show_box" id="show_box"><u-icon vue-id="faa6967c-3" custom-style="padding: 0 10rpx" size="{{iconSize}}" name="mic" bind:__l="__l"></u-icon><view class="y-wrap_footer_show_box__ipt"><u-input bind:input="__e" vue-id="faa6967c-4" value="{{sendVal}}" data-event-opts="{{[['^input',[['__set_model',['','sendVal','$event',[]]]]]]}}" bind:__l="__l"></u-input></view><view><u-icon vue-id="faa6967c-5" custom-style="padding: 0 10rpx" size="{{iconSize}}" name="star" bind:__l="__l"></u-icon><u-transition vue-id="faa6967c-6" show="{{!sendVal}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{!sendVal}}"><u-icon vue-id="{{('faa6967c-7')+','+('faa6967c-6')}}" customStyle="padding: 0 10rpx;" size="{{iconSize}}" name="plus" data-event-opts="{{[['^click',[['showHideBox']]]]}}" bind:click="__e" bind:__l="__l"></u-icon></block></u-transition><u-transition vue-id="faa6967c-8" show="{{sendVal}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{sendVal}}"><button style="width:116rpx;padding:0;text-align:center;" type="primary" size="mini" data-event-opts="{{[['tap',[['send',['$event']]]]]}}" bindtap="__e">发送</button></block></u-transition></view></view><view class="y-wrap_footer_hide_box" id="hide_box"><block wx:for="{{sheet}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['moreFun',['$0'],[[['sheet','',index]]]]]]]}}" class="y-wrap_footer_hide_box_item" bindtap="__e"><view class="y-wrap_footer_hide_box_item__btn"><u-icon vue-id="{{'faa6967c-9-'+index}}" size="{{iconSize}}" name="{{item.icon}}" bind:__l="__l"></u-icon><text>{{item.name}}</text></view></view></block></view></view></view>